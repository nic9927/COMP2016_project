CREATE TABLE Students(
	sno CHAR(10),
	name CHAR(20),
	gender CHAR(1),
	major CHAR(20),
	PRIMARY KEY (sno));


CREATE TABLE Books(
	call_no CHAR(10),
	ISBN CHAR(10),
	title CHAR(20),
	author CHAR(20),
	amount INTEGER,
	location CHAR(10),
	UNIQUE (call_no),
	PRIMARY KEY (ISBN));



CREATE TABLE Borrow(
	borrower CHAR(10),
	book CHAR(10),
	b_date DATE,
	d_date DATE,
	PRIMARY KEY (book, borrower),
	FOREIGN KEY (book) REFERENCES Books(call_no),
	FOREIGN KEY (borrower) REFERENCES Students(sno));


CREATE TABLE Reserve(
	sno CHAR(10),
	book CHAR(10),
	reserveDate DATE,
	PRIMARY KEY (sno),
	FOREIGN KEY (sno) REFERENCES Students,
	FOREIGN KEY (book) REFERENCES Books(call_no));

CREATE TABLE Renew(
	sno CHAR(10),
	book CHAR(10),
	PRIMARY KEY (sno, book),
	FOREIGN KEY (sno) REFERENCES Students,
	FOREIGN KEY (book) REFERENCES Books(call_no));

COMMIT;

INSERT INTO Students VALUES('12345678', 'A', 'M', 'Comp');
INSERT INTO Students VALUES('11111111', 'B', 'M', 'Math');
INSERT INTO Students VALUES('22222222', 'C', 'F', 'COMM');
INSERT INTO Students VALUES('33333333', 'D', 'F', 'COMM');
INSERT INTO Students VALUES('44444444', 'E', 'M', 'Comp');
INSERT INTO Students VALUES('55555555', 'F', 'M', 'COMM');
INSERT INTO Students VALUES('66666666', 'G', 'F', 'Math');
INSERT INTO Students VALUES('77777777', 'H', 'M', 'Comp');

INSERT INTO Books VALUES('A0000', '0306406151', 'AA', 'XX', 0, 'S1E01');
INSERT INTO Books VALUES('B0000', '0306406152', 'BB', 'YY', 0, 'S1E02');
INSERT INTO Books VALUES('C1111', '0306406153', 'CC', 'ZZ', 2, 'D1E11');
INSERT INTO Books VALUES('B0001', '0306406154', 'DD', 'UU', 2, 'G1E00');
INSERT INTO Books VALUES('A1111', '0306406155', 'EE', 'VV', 2, 'B1E00');
INSERT INTO Books VALUES('D0101', '0306406156', 'FF', 'WW', 1, 'B2E11');
INSERT INTO Books VALUES('E0000', '0306406157', 'GG', 'PP', 0, 'X0E22');
INSERT INTO Books VALUES('E0100', '0306406158', 'HH', 'QQ', 2, 'X0E21');
INSERT INTO Books VALUES('E0111', '0306406159', 'II', 'RR', 0, 'X0E44');

INSERT INTO Borrow VALUES('11111111', 'D0101', '24-Mar-2022', '21-Apr-2022');
INSERT INTO Borrow VALUES('55555555', 'A1111', '23-Mar-2022', '20-Apr-2022');
INSERT INTO Borrow VALUES('22222222', 'B0000', '31-Mar-2022', '12-May-2022');
INSERT INTO Borrow VALUES('11111111', 'A0000', '01-Apr-2022', '29-Apr-2022');
INSERT INTO Borrow VALUES('33333333', 'A0000', '03-Apr-2022', '01-May-2022');
INSERT INTO Borrow VALUES('11111111', 'B0000', '03-Apr-2022', '15-May-2022');
INSERT INTO Borrow VALUES('44444444', 'C1111', '04-Apr-2022', '16-May-2022');
INSERT INTO Borrow VALUES('44444444', 'A0000', '06-Apr-2022', '04-May-2022');
INSERT INTO Borrow VALUES('33333333', 'C1111', '06-Apr-2022', '04-May-2022');
INSERT INTO Borrow VALUES('33333333', 'A1111', '06-Apr-2022', '04-May-2022');
INSERT INTO Borrow VALUES('33333333', 'B0001', '06-Apr-2022', '04-May-2022');
INSERT INTO Borrow VALUES('44444444', 'D0101', '10-Apr-2022', '08-May-2022');
INSERT INTO Borrow VALUES('33333333', 'D0101', '10-Apr-2022', '08-May-2022');
INSERT INTO Borrow VALUES('44444444', 'A1111', '14-Apr-2022', '12-May-2022');
INSERT INTO Borrow VALUES('55555555', 'C1111', '18-Apr-2022', '16-May-2022');
INSERT INTO Borrow VALUES('22222222', 'E0111', '19-Apr-2022', '17-May-2022');
INSERT INTO Borrow VALUES('11111111', 'E0000', '20-Apr-2022', '18-May-2022');
INSERT INTO Borrow VALUES('44444444', 'B0001', '21-Apr-2022', '19-May-2022');

INSERT INTO Reserve VALUES('12345678', 'A0000', '20-Apr-2022');
INSERT INTO Reserve VALUES('66666666', 'E0000', '22-Apr-2022');

INSERT INTO Renew VALUES('22222222', 'B0000');
INSERT INTO Renew VALUES('11111111', 'B0000');
INSERT INTO Renew VALUES('44444444', 'C1111');
